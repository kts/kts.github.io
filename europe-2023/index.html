<!DOCTYPE html><html><head><link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin=""></link><style>

html,body {
  padding: 0;
  margin:  0;
}
html,body,#map {
  height: 100%;
  width: 100%;
}

            
#map {

  /* ok? */            
  height: 100vh;

}


/*
*/
.legend {
  padding: 6px 8px;
  font: 14px Arial, Helvetica, sans-serif;
  background: white;
  background: rgba(255, 255, 255, 0.8);
  /*box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);*/
  /*border-radius: 5px;*/
  line-height: 24px;
  color: #555;
}
    
.legend h4 {
  text-align: center;
  font-size: 16px;
  margin: 2px 12px 8px;
  color: #777;
}

.legend span {
  position: relative;
  bottom: 3px;
}

.legend i {
  width:   18px;
  height:  18px;
  float:   left;
  margin:  0 8px 0 0;
  opacity: 0.7;
}

.legend i.icon {
  background-size: 18px;
  background-color: rgba(255, 255, 255, 1);
}
            
</style></head><body><div id="map"></div><script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script><script>const LEG = "\n<h4>Legend</h4>\n<i style=\"background:#ff0000\"></i><span>train</span><br><i style=\"background:#00ffff\"></i><span>bus</span><br><i style=\"background:#ff0000\"></i><span>train</span><br><i style=\"background:#ff00ff\"></i><span>boat</span><br><i style=\"background:#66ffff\"></i><span>taxi</span><br><i style=\"background:#0000ff\"></i><span>plane</span><br>\n        \n<table>\n    \n<tr>\n\n<td>\n<svg width=\"18\" height=\"18\" style=\"border:1px solid red;\">\n  <circle cx=\"9\" cy=\"9\" r=\"6\"  fill=\"black\" />\n</svg>\n</td>\n\n<td>Slept one or more nights</td>\n\n</tr>\n\n<tr>\n\n<td>\n<svg width=\"18\" height=\"18\" style=\"border:1px solid red;\">\n  <circle cx=\"9\" cy=\"9\" r=\"6\"  fill=\"none\" stroke=\"black\" />\n</svg>\n</td>\n\n<td>Slept on train</td>\n\n</tr>\n\n</table>\n        \n";

const GEO = {"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "MultiLineString", "coordinates": [[[4.336387, 50.835554], [3.07556, 50.639446], [-0.125273, 51.530555]], [[11.247501, 43.776667], [11.235554, 43.80056], [11.341942, 44.506393], [11.341942, 44.506393], [11.597775, 44.407224], [11.718329, 44.359168], [11.803888, 44.325279], [11.882778, 44.293052], [12.054723, 44.224168], [12.249448, 44.145557], [12.573886, 44.064169]], [[9.846388, 46.498052], [9.873608, 46.533892], [9.682218, 46.675275], [9.572226, 46.664164], [9.528889, 46.853054], [8.855274, 46.705002], [8.593337, 46.636945], [7.986385, 46.318888], [7.748333, 46.024447]], [[21.257502, 45.254997], [21.235281, 45.346112], [21.230552, 45.396667], [21.225554, 45.476671], [21.197778, 45.556666], [21.192501, 45.59861], [21.182496, 45.646945], [21.202776, 45.716386], [21.207504, 45.750554]], [[6.974164, 50.941663], [7.127781, 50.738615], [7.588334, 50.350829], [7.884169, 49.968608], [8.258615, 50.001113]], [[14.158055, 46.360553], [14.173885, 46.340552], [14.208332, 46.323329], [14.232774, 46.311113], [14.25833, 46.293889], [14.34833, 46.238893], [14.335556, 46.174171], [14.371109, 46.156669], [14.412225, 46.138052], [14.464444, 46.10028], [14.480004, 46.08667], [14.489721, 46.077501], [14.51028, 46.058057]], [[24.941111, 60.172218], [24.933614, 60.198611], [25.044163, 60.292224], [24.781112, 60.736112], [24.478885, 61.002498], [23.860832, 61.17056], [23.860832, 61.17056], [23.362497, 60.919447], [23.06028, 60.847497], [22.2525, 60.453886]], [[6.134167, 49.599996], [6.213056, 49.59889], [6.499165, 49.712775], [6.506671, 49.713889], [6.51833, 49.723607], [6.550556, 49.707498], [6.57694, 49.703893], [6.636664, 49.744722], [6.652503, 49.756948]], [[14.51028, 46.058057], [14.34833, 46.238893], [14.158055, 46.360553]], [[8.258615, 50.001113], [8.277501, 49.993337], [8.314168, 49.994443], [8.357496, 49.993337], [8.400276, 49.98806], [8.413607, 49.991665], [8.454445, 50.009724], [8.529442, 50.0625], [8.571385, 50.051111], [8.594443, 50.056666], [8.63333, 50.068334], [8.636944, 50.081386], [8.663893, 50.107221]], [[16.375829, 48.185004], [16.419445, 48.17028], [16.448057, 48.218615], [16.504447, 48.234723], [16.704448, 48.245555], [16.807221, 48.251111], [16.918607, 48.249169], [16.946392, 48.241115], [16.94028, 48.2376], [16.976389, 48.218336], [17.105555, 48.158054]], [[15.978892, 45.804445], [15.545001, 45.499998], [15.296386, 45.234448], [15.368057, 45.078332], [15.426946, 44.848891], [15.35861, 44.773058], [15.393614, 44.536112], [15.663892, 44.376113], [15.822219, 44.30028], [16.198337, 44.036671], [16.181941, 43.863611], [16.117776, 43.675556], [16.344726, 43.567497], [16.455276, 43.522218], [16.443059, 43.504725]], [[0, 0], [0, 0]], [[21.002775, 52.228613], [21.052503, 52.251113], [21.237501, 52.346111], [21.43583, 52.431391], [21.68778, 52.533886], [22.033334, 52.693885], [22.342221, 52.799724], [22.541108, 52.870002], [22.605282, 52.892502], [22.650003, 52.908053], [22.709718, 52.92889], [22.782225, 52.954168], [22.839999, 52.97389], [22.883893, 52.990278], [22.983611, 53.046946], [23.045834, 53.082777], [23.135834, 53.133889]], [[7.58944, 47.547498], [8.540274, 47.37806]], [[12.320552, 45.441667], [12.231667, 45.481948], [12.365004, 45.574447], [12.559441, 45.639448], [12.633889, 45.688052], [12.682782, 45.720836], [12.832218, 45.781387], [13.000829, 45.777774], [13.210278, 45.829165], [13.342779, 45.823888], [13.486112, 45.817497], [13.54278, 45.80778], [13.771663, 45.657219]], [[9.507774, 47.168333], [9.478613, 47.168333], [9.478613, 47.168333], [9.446386, 47.044722], [9.504996, 47.010554], [9.554167, 46.967496], [9.528889, 46.853054], [9.528889, 46.853054], [9.413054, 46.823893], [9.440552, 46.698332], [9.572226, 46.664164], [9.682218, 46.675275], [9.746671, 46.631389], [9.777225, 46.588331], [9.845274, 46.559718], [9.873608, 46.533892], [9.858335, 46.513891], [9.846388, 46.498052]], [[7.588334, 50.350829], [7.127781, 50.738615], [6.974164, 50.941663]], [[23.135834, 53.133889], [23.508059, 53.403332], [23.364726, 53.648333], [23.02639, 53.852496], [22.945002, 54.10583], [23.207226, 54.23861], [23.334235, 54.238834], [23.355, 54.328331], [23.355, 54.328331], [23.364726, 54.557223], [23.498333, 54.748613], [23.932224, 54.886112], [24.461114, 54.863054], [25.284723, 54.669723]], [[0, 0], [0, 0]], [[7.748333, 46.024447], [7.774447, 46.067226], [7.781944, 46.099444], [7.791391, 46.132218], [7.801945, 46.177497], [7.83694, 46.214164], [7.870829, 46.231945], [7.881391, 46.294168], [7.881391, 46.294168], [7.644166, 46.31194], [7.533059, 46.291948], [7.359163, 46.227225], [7.079167, 46.105835], [6.963889, 46.316111], [6.910556, 46.435829], [6.843614, 46.463057], [6.629167, 46.516669], [6.493888, 46.511114], [6.235556, 46.384447], [6.1425, 46.210281]], [[18.058052, 59.330001], [17.645277, 59.162226], [16.208054, 58.996393], [15.110274, 59.066941], [14.439723, 59.22889], [14.108057, 59.316391], [13.498885, 59.377779], [12.59111, 59.653334], [12.003889, 60.187779], [10.755279, 59.910282]], [[12.573886, 44.064169], [12.249448, 44.145557], [12.054723, 44.224168], [11.882778, 44.293052], [11.803888, 44.325279], [11.718329, 44.359168], [11.597775, 44.407224], [11.341942, 44.506393]], [[8.540274, 47.37806], [9.446386, 47.044722], [9.478613, 47.168333]], [[1.45361, 43.611113], [2.351668, 43.218059], [3.005552, 43.190552], [3.218893, 43.336393], [3.880553, 43.604721], [4.365836, 43.83222], [4.632222, 43.685004], [5.380278, 43.302774]], [[7.419445, 43.738058], [7.481389, 43.761943], [7.493336, 43.774447], [7.51722, 43.785279], [7.528888, 43.786474], [7.535136, 43.786897], [7.610277, 43.792218]], [[7.419445, 43.738058], [7.457226, 43.76028], [7.481389, 43.761943], [7.493336, 43.774447], [7.51722, 43.785279], [7.528888, 43.786474], [7.535136, 43.786897], [7.610277, 43.792218], [7.610277, 43.792218], [7.663331, 43.77806], [7.766671, 43.821388], [7.835277, 43.840553], [8.031107, 43.897221], [8.073059, 43.925277], [8.158331, 43.981387], [8.170556, 44.00778], [8.221669, 44.046946], [8.254165, 44.1225], [8.277222, 44.145279], [8.30917, 44.157774], [8.340282, 44.169163], [8.410559, 44.226667], [8.470275, 44.306671], [8.51194, 44.334448], [8.566666, 44.356669], [8.643892, 44.389444], [8.67806, 44.403053], [8.757777, 44.428052], [8.785275, 44.426668], [8.816665, 44.425832], [8.847777, 44.422218], [8.865, 44.414443], [8.886943, 44.413058], [8.920553, 44.417778], [8.920553, 44.417778], [8.947224, 44.406946], [8.981392, 44.398055], [8.995829, 44.388329], [9.02028, 44.385282], [9.039723, 44.381389], [9.065837, 44.379169], [9.10583, 44.369443], [9.146668, 44.360831], [9.156664, 44.348057], [9.216667, 44.336668], [9.231391, 44.351392], [9.322218, 44.315274], [9.34639, 44.305556], [9.372504, 44.293331], [9.397782, 44.276386], [9.397782, 44.276386], [9.429163, 44.263891], [9.486667, 44.242218], [9.518893, 44.216941], [9.555282, 44.201668], [9.58278, 44.184445], [9.615833, 44.17417], [9.648886, 44.145557], [9.684448, 44.134725], [9.710831, 44.119722], [9.727218, 44.109726], [9.729169, 44.105277]], [[8.663893, 50.107221], [8.46889, 49.479442], [8.402226, 48.993611], [7.946671, 48.476389], [7.841111, 47.997777], [7.607778, 47.56722], [7.598609, 47.557359], [7.58944, 47.547498]], [[2.358886, 48.877497], [6.176947, 49.109446], [6.169719, 49.353889], [6.107667, 49.472205], [6.107775, 49.472223], [6.134167, 49.599996]], [[13.771663, 45.657219], [13.790837, 45.694165], [13.814119, 45.696466], [13.837401, 45.698758], [13.863614, 45.70417], [13.964724, 45.68194], [14.191387, 45.675279], [14.221393, 45.773054], [14.312778, 45.815277], [14.23556, 45.917781], [14.367774, 45.921385], [14.494171, 46.050282], [14.51028, 46.058057]], [[9.991663, 53.455829], [9.741107, 52.376665], [9.741107, 52.376665], [8.532777, 52.029169], [7.807779, 51.678059], [7.460274, 51.362781], [7.149445, 51.254443], [6.958613, 50.943056], [6.958613, 50.943056], [6.091387, 50.767776], [6.045282, 50.731945], [5.805836, 50.678054], [5.566669, 50.624443], [4.360829, 50.859448], [4.336387, 50.835554]], [[21.207504, 45.750554], [21.33898, 46.145477], [21.324166, 46.188886], [21.696391, 46.094724], [22.232499, 46.007781], [22.657221, 45.939723], [22.909441, 45.883891], [23.014444, 45.846388], [23.210004, 45.861391], [23.326666, 45.928334], [23.499996, 45.98306], [23.576386, 46.056107], [23.690837, 46.202775], [23.735001, 46.312497], [23.88139, 46.411666], [23.87917, 46.546945], [23.587218, 46.784997], [23.742498, 46.791946], [23.912223, 47.027499], [23.894164, 47.141392], [24.181945, 47.176945], [24.339166, 47.305832], [24.411619, 47.281498], [24.637212, 47.306246], [24.794479, 47.37958], [24.964492, 47.366482], [25.342542, 47.352603], [25.356664, 47.346113], [25.307466, 47.430809], [25.34647, 47.459521], [25.467519, 47.527785], [25.547927, 47.536522], [25.589853, 47.522841], [25.704151, 47.575176], [25.790304, 47.541529], [25.882587, 47.551058], [26.26639, 47.67056], [26.438893, 47.608058], [26.608331, 47.426944], [26.724166, 47.25667], [27.023138, 47.209809], [27.56944, 47.165277]], [[11.341942, 44.506393], [11.404444, 44.698052], [11.60333, 44.843057], [11.780552, 45.076669], [11.747778, 45.245837], [11.796391, 45.326947], [11.811385, 45.355281], [11.880557, 45.417774], [12.231667, 45.481948], [12.320552, 45.441667]], [[10.755279, 59.910282], [10.834447, 59.719171], [10.656388, 59.432226], [10.747503, 59.378057], [10.86528, 59.347503], [10.95083, 59.208889], [11.118056, 59.285837], [11.383885, 59.120274], [11.659171, 58.941388], [11.666389, 58.935554], [11.932776, 58.913333], [12.273611, 58.359166], [12.299167, 58.287504], [11.973335, 57.708886], [11.973335, 57.708886], [12.864723, 56.669167], [12.949168, 56.133886], [13.186663, 55.708058], [13.000829, 55.609447], [13.000829, 55.609447], [13.001386, 55.593059], [12.976666, 55.563053], [12.828937, 55.574362], [12.826366, 55.575485], [12.648892, 55.629169], [12.601942, 55.629726], [12.578615, 55.628333], [12.565553, 55.673054]], [[17.105555, 48.158054], [17.047782, 48.663059], [16.982466, 48.691088], [16.962348, 48.733112], [16.896943, 48.758057], [17.123057, 48.856669], [17.19889, 48.892779], [17.315004, 48.977781], [17.422776, 49.076114], [17.529999, 49.204165], [17.478886, 49.311946], [17.448332, 49.444447], [17.73889, 49.564165], [17.93917, 49.642218], [18.066385, 49.707498], [18.208334, 49.818056], [18.266108, 49.851388], [18.356944, 49.899166], [18.365915, 49.903481], [18.322497, 49.916389], [18.311386, 49.925558], [18.276113, 49.989166], [18.226115, 50.089998], [18.676942, 50.30111], [18.786664, 50.305281], [19.017219, 50.257503], [19.126115, 50.278888], [19.185282, 50.33028], [19.423055, 50.48111], [19.943054, 50.850279], [20.235554, 51.361666], [20.307486, 51.44425], [20.965281, 52.220001], [21.002775, 52.228613]], [[26.074165, 44.44639], [25.99444, 44.924446], [25.711387, 45.132222], [25.553609, 45.35306], [25.537221, 45.415832], [25.552332, 45.445299], [25.574724, 45.504996], [25.613612, 45.661948], [24.795557, 46.226111], [24.349441, 46.160274], [23.909167, 46.176113], [23.576386, 46.056107], [23.210004, 45.861391], [23.014444, 45.846388], [22.909441, 45.883891], [21.324166, 46.188886], [21.297774, 46.340831], [21.304372, 46.34217], [21.280002, 46.388609], [21.237501, 46.432224], [21.081664, 46.669719], [20.17583, 47.179165], [19.084171, 47.500278], [19.090778, 47.468968], [19.019997, 47.464447], [18.393053, 47.585558], [17.634723, 47.681941], [17.267226, 47.849724], [17.145557, 47.913889], [17.095829, 47.938331], [16.743614, 48.05333], [16.375829, 48.185004]], [[6.652503, 49.756948], [6.740274, 49.831109], [6.94361, 49.973057], [7.13472, 50.054446], [7.166668, 50.153057], [7.299726, 50.179719], [7.460831, 50.300831], [7.588334, 50.350829]], [[10.398056, 43.708052], [10.62889, 43.661947], [10.760277, 43.690559], [10.831669, 43.701391], [10.949167, 43.715558], [11.018887, 43.73306], [11.098334, 43.775831], [11.235554, 43.80056], [11.247501, 43.776667]], [[28.858169, 47.017476], [27.794359, 47.200398], [27.786943, 47.199723], [27.775275, 47.195831], [27.579723, 47.147775], [27.56944, 47.165277], [27.023138, 47.209809], [26.920275, 46.934721], [26.895276, 46.565831], [27.191389, 46.098329], [27.215004, 45.875558], [27.169168, 45.701114], [27.058052, 45.379444], [26.825555, 45.143054], [26.029444, 44.925003], [25.96207, 44.557497], [26.074165, 44.44639]], [[14.51028, 46.058057], [15.170555, 46.085555], [15.301393, 46.009722], [15.49361, 45.956389], [15.654723, 45.898337], [15.679983, 45.890714], [15.740004, 45.871945], [15.978892, 45.804445]], [[5.380278, 43.302774], [5.929168, 43.128329], [6.186943, 43.297218], [6.482499, 43.455833], [6.769165, 43.423607], [7.018607, 43.553887], [7.119448, 43.585835], [7.216109, 43.670837], [7.261945, 43.704448], [7.261945, 43.704448], [7.290279, 43.705832], [7.314163, 43.706947], [7.331665, 43.706668], [7.356943, 43.721941], [7.39361, 43.720556], [7.419445, 43.738058]], [[12.565553, 55.673054], [12.514441, 55.663885], [12.397779, 55.663058], [12.26944, 55.648613], [12.19722, 55.648891], [12.132219, 55.647777], [12.088334, 55.638886], [12.024448, 55.549444], [11.972499, 55.494448], [11.786108, 55.438337], [11.569171, 55.419163], [11.34889, 55.407225], [11.13528, 55.35667], [10.802499, 55.31389], [10.586111, 55.361668], [10.386667, 55.40167], [10.271947, 55.361947], [10.182504, 55.349164], [10.141109, 55.366109], [10.105556, 55.373057], [10.051109, 55.382775], [9.97417, 55.395836], [9.929718, 55.428332], [9.869724, 55.460001], [9.810836, 55.475831], [9.733888, 55.501945], [9.615554, 55.545003], [9.480833, 55.490555], [9.303332, 55.479723], [9.286387, 55.428053], [9.305552, 55.248053], [9.333329, 55.069168], [9.257775, 54.93611], [9.359721, 54.822774], [9.361942, 54.816391], [9.363335, 54.814719], [9.538058, 54.499441], [10.006945, 53.552778]], [[6.1425, 46.210281], [6.142428, 46.209732], [5.825837, 46.110833], [5.831671, 45.963059], [5.778886, 45.843332], [5.501668, 45.922221], [4.858885, 45.760281], [4.858885, 45.760281], [4.978613, 44.991388], [4.365836, 43.83222], [3.880553, 43.604721], [3.880553, 43.604721], [3.218893, 43.336393], [3.005552, 43.190552], [2.351668, 43.218059], [1.45361, 43.611113]], [[0, 0], [0, 0]], [[9.813892, 44.111389], [9.840276, 44.123057], [9.889168, 44.126671], [9.960282, 44.10889], [10.062777, 44.050829], [10.135832, 44.023331], [10.19917, 43.977774], [10.229446, 43.955552], [10.247775, 43.911946], [10.25778, 43.865552], [10.290276, 43.826386], [10.387224, 43.723334], [10.398056, 43.708052], [10.62889, 43.661947], [10.760277, 43.690559], [10.831669, 43.701391], [10.949167, 43.715558], [11.018887, 43.73306], [11.095556, 43.775552], [11.235554, 43.80056], [11.247501, 43.776667]], [[11.247501, 43.776667], [11.235554, 43.80056], [11.095556, 43.775552], [11.018887, 43.73306], [10.949167, 43.715558], [10.831669, 43.701391], [10.760277, 43.690559], [10.62889, 43.661947], [10.398056, 43.708052], [10.387224, 43.723334]], [[7.419445, 43.738058], [7.457226, 43.76028], [7.481389, 43.761943], [7.493336, 43.774447], [7.51722, 43.785279], [7.528888, 43.786474], [7.535136, 43.786897], [7.610277, 43.792218], [7.610277, 43.792218], [7.663331, 43.77806], [7.766671, 43.821388], [7.835277, 43.840553], [8.031107, 43.897221], [8.073059, 43.925277], [8.158331, 43.981387], [8.170556, 44.00778], [8.221669, 44.046946], [8.254165, 44.1225], [8.277222, 44.145279], [8.30917, 44.157774], [8.340282, 44.169163], [8.410559, 44.226667], [8.470275, 44.306671], [8.51194, 44.334448], [8.566666, 44.356669], [8.643892, 44.389444], [8.67806, 44.403053], [8.757777, 44.428052], [8.785275, 44.426668], [8.816665, 44.425832], [8.847777, 44.422218], [8.865, 44.414443], [8.886943, 44.413058], [8.920553, 44.417778], [8.947224, 44.406946], [8.947224, 44.406946], [9.039723, 44.381389], [9.065837, 44.379169], [9.146668, 44.360831], [9.156664, 44.348057], [9.216667, 44.336668], [9.231391, 44.351392], [9.322218, 44.315274], [9.34639, 44.305556], [9.372504, 44.293331], [9.397782, 44.276386], [9.486667, 44.242218], [9.615833, 44.17417], [9.648886, 44.145557], [9.684448, 44.134725], [9.684448, 44.134725], [9.710831, 44.119722], [9.727218, 44.109726], [9.729169, 44.105277]]]}, "properties": {"mode": "train", "stroke": "#ff0000", "stroke-width": 5}}, {"type": "Feature", "geometry": {"type": "MultiLineString", "coordinates": [[[1.45361, 43.611113], [1.521259, 42.5047528]], [[12.573886, 44.064169], [12.4488805, 43.9314103]], [[16.4427588, 43.5043739], [18.0831058, 42.6631737]], [[18.0831058, 42.6631737], [17.8133198, 43.3485797]], [[18.3977209, 43.858636], [18.7701263, 42.4192572], [18.8388268, 42.2905148], [19.1026057, 42.0884789]], [[20.4552219, 44.8100136], [21.2959112, 45.1193525]], [[25.2817579, 54.6711368], [24.1132513, 56.944524]]]}, "properties": {"mode": "bus", "stroke": "#00ffff", "stroke-width": 5}}, {"type": "Feature", "geometry": {"type": "MultiLineString", "coordinates": [[[17.813885, 43.3489955], [18.3989497, 43.8604591]], [[19.1054896, 42.0872623], [20.4530621, 44.7936264]], [[24.1229108, 56.9463999], [26.0532643, 57.7746749], [24.7360041, 59.4400079]]]}, "properties": {"mode": "train", "stroke": "#ff0000", "stroke-width": 5}}, {"type": "Feature", "geometry": {"type": "MultiLineString", "coordinates": [[[24.7700461, 59.443955], [24.7773161, 59.4492812], [24.7764659, 59.4502071], [24.7640978, 59.4707297], [24.684576, 59.6062375], [24.9087658, 60.0343049], [24.8967066, 60.0522843], [24.8957196, 60.0656286], [24.8954621, 60.0747074], [24.8951188, 60.0838692], [24.8949471, 60.0867585], [24.8954621, 60.0892624], [24.8971787, 60.0940556], [24.8995819, 60.0999605], [24.9016419, 60.1045811], [24.9057468, 60.113029], [24.9058849, 60.1133678], [24.9056294, 60.1189746], [24.905937, 60.1292683], [24.9057512, 60.1397532], [24.9054368, 60.1411155], [24.9055854, 60.1421104], [24.9073982, 60.143722], [24.9115997, 60.1453723], [24.9144238, 60.1470476], [24.9158038, 60.147875], [24.9165127, 60.1494904]], [[22.2223878, 60.4332275], [22.2135347, 60.4345894]], [[22.2135347, 60.4345894], [22.2102141, 60.4339542]], [[22.2102141, 60.4339542], [22.2054666, 60.4330886], [22.1947861, 60.4284137], [22.1914829, 60.427391]], [[22.1871565, 60.4260475], [22.1914829, 60.427391]], [[22.1871565, 60.4260475], [22.1731862, 60.4216853], [22.1572299, 60.4218958], [22.1487748, 60.4208389], [22.1441835, 60.4200428], [22.1406859, 60.4191862], [22.1339589, 60.4162042], [22.1288949, 60.4131187], [22.1211272, 60.4044273], [22.1208737, 60.4041518]], [[22.1208737, 60.4041518], [22.1166587, 60.3995707], [22.108494, 60.3839732], [22.1069462, 60.381038], [22.1056616, 60.3786018]], [[21.7143987, 60.2212419], [21.7128494, 60.2211534], [21.6556674, 60.2138685], [21.5998185, 60.2124987], [21.5365291, 60.2014573], [21.5120204, 60.1973302], [21.4753157, 60.1816532], [21.4349539, 60.1754215], [21.2882396, 60.1134621], [21.1271006, 60.0855629], [20.9868667, 60.0827257], [20.8338037, 60.0779736], [20.8104336, 60.0832206], [20.767871, 60.0924403], [20.7307318, 60.0951276], [20.729156, 60.0952212], [20.6996798, 60.0972825], [20.6652886, 60.0971047], [20.5956128, 60.1271678], [20.5331844, 60.1159573], [20.5076712, 60.1151715], [20.4944211, 60.1146717], [20.4837459, 60.1143215], [20.4768419, 60.1140756], [20.4725718, 60.1111406], [20.460754, 60.1030559], [20.4593486, 60.101997], [20.4434752, 60.1003605], [20.4264378, 60.1037511], [20.3670913, 60.1147946], [20.3448182, 60.1146129], [20.3403926, 60.1134421], [20.3386974, 60.1127124], [20.3372812, 60.1120896]], [[21.7603111, 60.2238641], [21.7143987, 60.2212419]], [[22.1056616, 60.3786018], [22.0189029, 60.2824086], [21.9282335, 60.267786], [21.9216755, 60.2667191], [21.8166375, 60.2496938], [21.8003726, 60.2424245], [21.7603111, 60.2238641]], [[20.3372812, 60.1120896], [20.3282367, 60.1101688], [20.3220104, 60.1099608], [20.315614, 60.1107949], [20.3043965, 60.1156384], [20.3000741, 60.1170789]], [[20.3000741, 60.1170789], [20.3041593, 60.1153375], [20.3137057, 60.1086714], [20.3258067, 60.0968974]], [[20.3258067, 60.0968974], [20.3114006, 60.0677368], [20.3106603, 60.0663061]], [[20.3106603, 60.0663061], [20.3089303, 60.062747], [20.3131629, 60.0445253], [20.3160013, 60.0341182]], [[20.3160013, 60.0341182], [20.2991329, 60.0163385], [20.2009124, 59.9508711], [20.1910982, 59.9500625], [20.1517743, 59.9640818]], [[20.1517743, 59.9640818], [20.0644771, 59.9748877], [20.0376797, 59.9672931], [19.9374443, 59.940705], [19.86974, 59.9224632], [19.4409922, 59.7830469]], [[19.4409922, 59.7830469], [19.319291, 59.7611981]], [[19.119184, 59.7229051], [19.2478105, 59.7406651], [19.2866987, 59.7553444], [19.319291, 59.7611981]], [[18.3963477, 59.4415351], [18.4239494, 59.4489178], [18.4345816, 59.4584274], [18.437084, 59.4771726], [18.4834321, 59.5070669], [18.5336931, 59.5253957], [18.546334, 59.5329004], [18.5716475, 59.5393076], [18.6065939, 59.5551258], [18.683481, 59.5767757], [18.7393301, 59.5845619], [18.7640785, 59.5980709], [18.8236651, 59.617491], [18.9713165, 59.6805474], [19.119184, 59.7229051]], [[18.2069418, 59.3379137], [18.2372653, 59.3503], [18.264698, 59.3615692], [18.3106175, 59.3695935], [18.3537362, 59.3660018], [18.3744975, 59.3637508], [18.4328809, 59.3585693], [18.4475394, 59.3633697], [18.4455135, 59.3944764], [18.3910595, 59.4307425], [18.3963477, 59.4415351]], [[18.0990844, 59.3161315], [18.0964726, 59.3166543], [18.0967513, 59.3170081], [18.1090187, 59.3172911], [18.1426725, 59.3194347], [18.1549873, 59.319862], [18.1812825, 59.3264703], [18.2069418, 59.3379137]]]}, "properties": {"mode": "boat", "stroke": "#ff00ff", "stroke-width": 5}}, {"type": "Feature", "geometry": {"type": "MultiLineString", "coordinates": [[[21.2992123, 45.1195814], [21.257502, 45.254997]]]}, "properties": {"mode": "taxi", "stroke": "#66ffff", "stroke-width": 5}}, {"type": "Feature", "geometry": {"type": "MultiLineString", "coordinates": [[[-87.9048, 41.9786], [-86.89331604385858, 42.617156493359985], [-85.86106315156158, 43.24655242860398], [-84.80746029955793, 43.86639517584848], [-83.73193443484125, 44.476277397594835], [-82.63392402018681, 45.075776891573426], [-81.51288299495748, 45.66445651036951], [-80.36828517129972, 46.24186417072522], [-79.1996290814093, 46.80753296645026], [-78.00644328601868, 47.36098139983468], [-76.78829214716309, 47.90171374729118], [-75.54478205944574, 48.429220575607154], [-74.27556812330454, 48.94297942558933], [-72.98036123107876, 49.44245567996635], [-71.6589355219513, 49.927103632091466], [-70.3111361451499, 50.39636777117685], [-68.93688725228918, 50.849684298402046], [-67.53620011972792, 51.28648288618721], [-66.10918128075514, 51.706188690130105], [-64.65604052594873, 52.108224619510274], [-63.17709860899522, 52.492013867824774], [-61.67279447563889, 52.85698269952818], [-60.14369181643578, 53.20256348303576], [-58.59048473095058, 53.52819795319207], [-57.01400228336345, 53.83334067894279], [-55.41521172855831, 54.11746270407054], [-53.795220194945834, 54.38005532082062], [-52.15527462661527, 54.62063392836619], [-50.49675981362911, 54.838741920704045], [-48.821194375615626, 55.03395454212941], [-47.13022460991738, 55.20588264331814], [-45.4256161703913, 55.354176267640504], [-43.70924360478866, 55.47852799599245], [-41.98307784506097, 55.57867597943277], [-40.24917181295523, 55.65440659242788], [-38.50964436948057, 55.705556645572806], [-36.76666289767534, 55.732015105175435], [-35.02242486009003, 55.733724277811696], [-33.27913871240915, 55.71068043048926], [-31.539004580189868, 55.66293383088453], [-29.804195115177876, 55.590588206641456], [-28.076836940467878, 55.49379963728896], [-26.358993070366957, 55.3727749062949], [-24.6526466526755, 55.227769353516294], [-22.959686330594508, 55.05908427930239], [-21.281893461643023, 54.867063960347586], [-19.620931365276903, 54.65209234380606], [-17.97833670292424, 54.41458949004674], [-16.35551302732462, 54.15500783576833], [-14.753726475434235, 53.87382834816502], [-13.174103523239992, 53.57155663769538], [-11.617630673435386, 53.248719092100416], [-10.08515590919032, 52.90585908803286], [-8.577391719628764, 52.54353332940365], [-7.094919484958382, 52.16230835372389], [-5.638195000807485, 51.762757239688455], [-4.207554921177788, 51.34545654133094], [-2.8032239062415414, 50.91098346654625], [-1.4253222735907514, 50.45991331082654], [-0.0738739680765832, 49.992817150834284], [1.2511853152920764, 49.5102597970281], [2.549999999999983, 49.012798]], [[-0.461941, 51.4706], [-2.023123911859676, 51.62252075082037], [-3.594058478001806, 51.75354866398268], [-5.173384541073563, 51.863464820720196], [-6.759686327610476, 51.95208326927418], [-8.351501028387668, 52.019252534314084], [-9.947328142674166, 52.06485686837957], [-11.545639447375233, 52.088817221444906], [-13.144889432957275, 52.09109190972536], [-14.743526033495996, 52.071676970519654], [-16.34000146889184, 52.03060619602154], [-17.932783013724922, 51.96795084542513], [-19.52036350956014, 51.883819041063774], [-21.10127144563719, 51.778354860532865], [-22.67408044638573, 51.65173714253526], [-24.237418022413774, 51.504178029358705], [-25.789973463646856, 51.335921273288136], [-27.33050477810751, 51.14724033775048], [-28.85784460630291, 50.93843632651151], [-30.370905068205133, 50.70983577576374], [-31.868681526293365, 50.4617883444789], [-33.35025527312404, 50.19466443800225], [-34.8147951746017, 49.90885279863113], [-36.26155831992902, 49.60475809496015], [-37.689889745699034, 49.282798539224146], [-39.09922131453831, 48.94340355886866], [-40.489069838078095, 48.58701154526718], [-41.85903453993957, 48.2140676990221], [-43.20879395712121, 47.825021987755264], [-44.538102378013384, 47.42032722882317], [-45.846785912648066, 47.00043730607331], [-47.13473828616087, 46.56580552666102], [-48.401916440247064, 46.11688312112647], [-49.64833602006399, 45.65411788742132], [-50.87406681596953, 45.17795297739469], [-52.07922822104578, 44.688825822402464], [-53.26398475684249, 44.187167193185815], [-54.42854171143644, 43.67340038795935], [-55.573140925939185, 43.14794054173319], [-56.69805675814227, 42.611194049239714], [-57.80359224516736, 42.06355809341596], [-58.89007548085054, 41.505420271174835], [-59.9578562181637, 40.93715830815289], [-61.007302702260056, 40.359139854220224], [-62.038798735707694, 39.77172235175035], [-63.05274097410573, 39.17525296895234], [-64.04953644751478, 38.570068590938824], [-65.02960030092618, 37.95649586162428], [-65.99335374527874, 37.33485127000057], [-66.94122220925429, 36.705441274806645], [-67.87363368118478, 36.06856246208592], [-68.79101722982683, 35.42450173059678], [-69.69380169245662, 34.77353650050378], [-70.58241451866145, 34.11593494122153], [-71.45728075830736, 33.45195621470718], [-72.31882218241681, 32.78185073089708], [-73.16745652605219, 32.105860412357295], [-74.00359684275301, 31.424218965565025], [-74.82765096058404, 30.737152156557677], [-75.64002103040335, 30.04487808898063], [-76.44110315753504, 29.34760748283113], [-77.23128710861681, 28.645543952439002], [-78.01095608597767, 27.93888428244299], [-78.78048656247671, 27.227818700718025], [-79.54024817029294, 26.512531147384223], [-80.2906036376953, 25.79319953918457]]]}, "properties": {"mode": "plane", "stroke": "#0000ff", "stroke-width": 5}}, {"type": "Feature", "geometry": {"type": "MultiPoint", "coordinates": [[2.3579809, 48.879169], [6.137947, 49.612997], [6.959458, 50.938958], [8.5442828, 47.369102], [9.5255824, 47.128296], [9.8462164, 46.489292], [7.7541282, 46.02441], [6.1493263, 46.215028], [1.444507, 43.601525], [1.531113, 42.50749], [1.4405139, 43.609932], [5.3710981, 43.301106], [7.4183183, 43.733342], [11.256854, 43.77095], [12.44878, 43.93505], [12.332936, 45.439766], [14.511199, 46.053272], [14.506577, 46.052108], [15.976225, 45.813804], [16.440744, 43.509115], [18.108888, 42.642322], [17.808171, 43.342633], [18.411104, 43.856535], [18.421638, 43.858047], [18.770139, 42.422316], [20.46571, 44.819196], [21.296556, 45.116235], [27.586721, 47.16426], [28.825619, 47.019826], [28.840782, 47.019941], [17.108608, 48.154563], [17.106457, 48.147834], [21.003007, 52.234776], [23.14863, 53.133885], [25.283141, 54.679021], [25.275308, 54.688156], [24.102235, 56.949268], [24.744927, 59.438963], [24.756812, 59.441117], [24.939624, 60.168066]]}, "properties": {"fill": "#000000"}}, {"type": "Feature", "geometry": {"type": "MultiPoint", "coordinates": [[19.779275849999998, 43.44044435], [24.339166, 47.305832], [26.895276, 46.565831], [21.297774, 46.340831]]}, "properties": {"fill": "#33cc33"}}]};

/*
Gen by XXX...
=== ToC ===
1. projects.travel_map (len 1870)
2. emacs_auto_revert (len 103)

*/
// SECTION 1. projects.travel_map
/*
  leaflet:
  
*/

//near Salzberg:
const ll = [47.977153,13.046347]
var map = L.map('map').setView(ll,4);

const url_template = 'https://tile.openstreetmap.org/{z}/{x}/{y}.png';

L.tileLayer(
    url_template, {
	maxZoom: 19,
	attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

/*
*/
L.geoJSON(GEO, {

    /*


      - The default is to spawn a default Marker
      
     */
    pointToLayer: function (feature, latlng) {

	var geojsonMarkerOptions = {
	    //what options are there?
	    radius:      3.5,
	    fillColor:   "#ff7800",
	    color:       "#000",
	    weight:      1,
	    opacity:     1,
	    fillOpacity: 0.8
	};

	const p = feature.properties;
	if (p.fill) {
	    geojsonMarkerOptions.fillColor = p.fill;
	}

	//temp:
	if (p.fill === "#33cc33") {
	    geojsonMarkerOptions.fillColor = 'none';
	    geojsonMarkerOptions.radius = 5;
	}
	
	
	return L.circleMarker(latlng, geojsonMarkerOptions);
    },

    /*
      
     */
    style: function (feature) {

	console.log(feature.properties);
        // feature.type == 'Feature'

        var out = {};

        //if (feature.properties.mode === 'train') {
        //   out['color'] = 'red';
        //}
            
        if (feature.properties.stroke) {
            out['color'] = feature.properties.stroke;
	    //stroke width?
        }

	
        return out;
    }
    
}).bindPopup(function (layer) {

    console.log("popup?");
    console.log(layer.feature);

    return "xyz";
    //return layer.feature.properties.description;
    
}).addTo(map);


/*Legend specific*/
var legend = L.control({ position: "bottomleft" });

legend.onAdd = function(map) {
    var div = L.DomUtil.create("div", "legend");

    div.innerHTML += LEG;

    /*
  div.innerHTML += "<h4>Tegnforklaring</h4>";
    */
    
  return div;
};

legend.addTo(map);

// SECTION 2. emacs_auto_revert
// For Emacs:
// - auto-revert-mode: ...
// 
// Local Variables:
//   eval: (auto-revert-mode)
// End:
</script></body></html>